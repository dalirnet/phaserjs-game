"use strict";var n=function t(e,i,o){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(void 0===a){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,o)}if("value"in a)return a.value;var n=a.get;return void 0!==n?n.call(o):void 0},d=function(){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}}();function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function a(s,n,r){function h(i,t){if(!n[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);throw new Error("Cannot find module '"+i+"'")}var o=n[i]={exports:{}};s[i][0].call(o.exports,function(t){var e=s[i][1][t];return h(e||t)},o,o.exports,a,s,n,r)}return n[i].exports}for(var d="function"==typeof require&&require,t=0;t<r.length;t++)h(r[t]);return h}({1:[function(t,e,i){var o=function(){function e(t){y(this,e),this.scene=t,this.target={},this.animate={}}return d(e,[{key:"addAnimate",value:function(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,n=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],r=this;this.animate[o]={second:e,fps:i,allFrameCount:e<1e3?i:e/1e3*i,loop:a,delay:0<s?s+e:0,frame:t,config:n,timer:{},delayTimer:{},isRun:!1,lastFrame:1,runTime:0,firstValue:{}},r.animate[o].frame[0]=[],n.forEach(function(i,t){r.animate[o].firstValue[i[0]]={},i[1].forEach(function(t,e){"rotation"!==t&&(r.animate[o].firstValue[i[0]][t]=r.target[i[0]][t]),r.animate[o].frame[0].push([i[0],t,r.target[i[0]][t]])})})}},{key:"start",value:function(t){var e=this,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.animate[t].isRun||(this.animate[t].lastFrame=1,this.animate[t].runTime=0,this.animate[t].isRun=!0,i&&this.resetFrame(t),0<this.animate[t].delay?(this.loopFrame(t,!0),this.animate[t].delayTimer=this.scene.game.time.create(),this.animate[t].delayTimer.loop(this.animate[t].delay,function(){e.loopFrame(t,!0)},this),this.animate[t].delayTimer.start()):this.loopFrame(t))}},{key:"stop",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.animate[t].isRun&&(this.animate[t].isRun=!1,e&&this.resetFrame(t),0<this.animate[t].delay&&this.animate[t].delayTimer.stop(),this.animate[t].timer.stop())}},{key:"resetFrame",value:function(t){this.setFrame(t,0)}},{key:"loopFrame",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.animate[t].lastFrame=1,this.animate[t].timer=this.scene.game.time.create(),this.animate[t].timer.loop(this.animate[t].second/this.animate[t].fps,function(){e.setFrame(t,e.animate[t].lastFrame),e.animate[t].lastFrame<e.animate[t].allFrameCount?e.animate[t].lastFrame++:(e.animate[t].runTime++,e.animate[t].lastFrame=1,0<e.animate[t].loop&&e.animate[t].runTime>=e.animate[t].loop&&e.stop(t,!0),i&&(e.resetFrame(t),e.animate[t].timer.stop()))},this),this.animate[t].timer.start()}},{key:"setFrame",value:function(e,i){var o=this;this.animate[e].frame[i].forEach(function(t){"rotation"!==t[1]&&0<i?o.target[t[0]][t[1]]=o.animate[e].firstValue[t[0]][t[1]]+t[2]:o.target[t[0]][t[1]]=t[2]})}}]),e}();e.exports=o},{}],2:[function(t,e,i){var o=t("../../animation"),a=t("./object/idle"),s=t("./object/jump"),n=function(t){function i(t){y(this,i);var e=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.target=e.scene.game.player,e.idleCreate(),e.jumpCreate(),e}return r(i,o),d(i,[{key:"idleCreate",value:function(){this.addAnimate("idle",a,1e3,8,-1,600,[["headGroup",["rotation","y"]],["upperBodyGroup",["y"]],["leftHandGroup",["rotation"]],["rightHandGroup",["rotation"]],["leftFootGroup",["rotation"]],["rightFootGroup",["rotation"]],["leftFootBottom",["rotation"]],["rightFootBottom",["rotation"]]])}},{key:"jumpCreate",value:function(){var t=[["upperBodyGroup",["rotation","y"]],["lowerBodyGroup",["rotation","y"]],["headGroup",["rotation","y"]],["leftHandGroup",["rotation"]],["rightHandGroup",["rotation"]],["leftHandBottom",["rotation"]],["rightHandBottom",["rotation"]],["leftFootGroup",["rotation"]],["rightFootGroup",["rotation"]],["leftFootBottom",["rotation"]],["rightFootBottom",["rotation"]]];this.addAnimate("jump",s,500,8,1,0,t),this.addAnimate("long_jump",s,600,8,1,0,t)}}]),i}();e.exports=n},{"../../animation":1,"./object/idle":3,"./object/jump":4}],3:[function(t,e,i){e.exports={1:[["headGroup","y",-1]],2:[["headGroup","rotation","0.01"],["headGroup","y",0],["upperBodyGroup","y",0],["leftHandGroup","rotation","0.01"],["rightHandGroup","rotation","-0.01"],["leftFootGroup","rotation","-0.02"],["rightFootGroup","rotation","-0.02"],["leftFootBottom","rotation","0.04"],["rightFootBottom","rotation","0.04"]],3:[["headGroup","rotation","0.02"],["headGroup","y",1],["upperBodyGroup","y",2],["leftHandGroup","rotation","0.02"],["rightHandGroup","rotation","-0.02"],["leftFootGroup","rotation","-0.03"],["rightFootGroup","rotation","-0.03"],["leftFootBottom","rotation","0.06"],["rightFootBottom","rotation","0.06"]],4:[["headGroup","rotation","0.03"],["headGroup","y",2],["upperBodyGroup","y",3],["leftHandGroup","rotation","0.03"],["rightHandGroup","rotation","-0.03"],["leftFootGroup","rotation","-0.04"],["rightFootGroup","rotation","-0.04"],["leftFootBottom","rotation","0.08"],["rightFootBottom","rotation","0.08"]],5:[["headGroup","rotation","0.02"],["headGroup","y",1],["upperBodyGroup","y",1],["leftHandGroup","rotation","0.02"],["rightHandGroup","rotation","-0.02"],["leftFootGroup","rotation","-0.04"],["rightFootGroup","rotation","-0.04"],["leftFootBottom","rotation","0.08"],["rightFootBottom","rotation","0.08"]],6:[["headGroup","rotation","0.01"],["headGroup","y",0],["leftHandGroup","rotation","0.01"],["rightHandGroup","rotation","-0.01"],["leftFootGroup","rotation","-0.03"],["rightFootGroup","rotation","-0.03"],["leftFootBottom","rotation","0.06"],["rightFootBottom","rotation","0.06"]],7:[["headGroup","y",0],["upperBodyGroup","y",0],["leftFootGroup","rotation","-0.02"],["rightFootGroup","rotation","-0.02"],["leftFootBottom","rotation","0.04"],["rightFootBottom","rotation","0.04"]],8:[["headGroup","y",-1],["leftFootGroup","rotation","-0.01"],["rightFootGroup","rotation","-0.01"],["leftFootBottom","rotation","0.02"],["rightFootBottom","rotation","0.02"]]}},{}],4:[function(t,e,i){e.exports={1:[["upperBodyGroup","rotation","0.05"],["upperBodyGroup","y",2],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","0.09"],["rightHandGroup","rotation","-0.04"],["leftHandBottom","rotation","-0.04"],["rightHandBottom","rotation","-0.03"],["leftFootGroup","rotation","-0.1"],["rightFootGroup","rotation","0.13"],["leftFootBottom","rotation","0.36"],["rightFootBottom","rotation","0.23"]],2:[["upperBodyGroup","rotation","0.07"],["upperBodyGroup","y",2],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","0.12"],["rightHandGroup","rotation","-0.12"],["leftHandBottom","rotation","0.02"],["rightHandBottom","rotation","-0.14"],["leftFootGroup","rotation","-0.15"],["rightFootGroup","rotation","0.03"],["leftFootBottom","rotation","0.29"],["rightFootBottom","rotation","0.97"]],3:[["upperBodyGroup","rotation","0.1"],["upperBodyGroup","y",2],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","0.39"],["rightHandGroup","rotation","-0.25"],["leftHandBottom","rotation","-0.1"],["rightHandBottom","rotation","-0.29"],["leftFootGroup","rotation","-0.33"],["rightFootGroup","rotation","0.1"],["leftFootBottom","rotation","0.2"],["rightFootBottom","rotation","1.09"]],4:[["upperBodyGroup","rotation","0.14"],["upperBodyGroup","y",-5],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","0.51"],["rightHandGroup","rotation","-0.4"],["leftHandBottom","rotation","-0.03"],["rightHandBottom","rotation","-0.47"],["leftFootGroup","rotation","-0.49"],["rightFootGroup","rotation","0.32"],["leftFootBottom","rotation","0"],["rightFootBottom","rotation","1.42"]],5:[["upperBodyGroup","rotation","0.14"],["upperBodyGroup","y",-5],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","0.51"],["rightHandGroup","rotation","-0.4"],["leftHandBottom","rotation","-0.03"],["rightHandBottom","rotation","-0.47"],["leftFootGroup","rotation","-0.49"],["rightFootGroup","rotation","0.32"],["leftFootBottom","rotation","0"],["rightFootBottom","rotation","1.42"]],6:[["upperBodyGroup","rotation","0.1"],["upperBodyGroup","y",2],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","0.39"],["rightHandGroup","rotation","-0.25"],["leftHandBottom","rotation","-0.1"],["rightHandBottom","rotation","-0.29"],["leftFootGroup","rotation","-0.33"],["rightFootGroup","rotation","0.1"],["leftFootBottom","rotation","0.2"],["rightFootBottom","rotation","1.09"]],7:[["upperBodyGroup","rotation","0.07"],["upperBodyGroup","y",2],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","0.12"],["rightHandGroup","rotation","-0.12"],["leftHandBottom","rotation","0.02"],["rightHandBottom","rotation","-0.14"],["leftFootGroup","rotation","-0.15"],["rightFootGroup","rotation","0.03"],["leftFootBottom","rotation","0.29"],["rightFootBottom","rotation","0.97"]],8:[["upperBodyGroup","rotation","0.05"],["upperBodyGroup","y",2],["lowerBodyGroup","rotation","-0.18"],["headGroup","rotation","-0.03"],["leftHandGroup","rotation","-0.09"],["rightHandGroup","rotation","0.04"],["leftHandBottom","rotation","-0.04"],["rightHandBottom","rotation","-0.03"],["leftFootGroup","rotation","-0.1"],["rightFootGroup","rotation","0.13"],["leftFootBottom","rotation","0.36"],["rightFootBottom","rotation","0.23"]]}},{}],5:[function(t,e,i){var o=t("../helper"),a=function(){function e(t){y(this,e),this.scene=t,this.color=o.intColor("#020723")}return d(e,[{key:"loadSpace",value:function(){this.dragXStart=this.scene.game.add.graphics(0,0),this.dragXEnd=this.scene.game.add.graphics(this.scene.game.width,0)}},{key:"onDragStart",value:function(t,e){this.dragXStart.clear(),this.dragXStart.beginFill(this.color,.7),this.dragXStart.moveTo(0,0),this.dragXStart.quadraticCurveTo(t+10,e,0,this.scene.game.height),this.dragXStart.endFill(),this.dragXStart.width=0,this.dragXStart.alpha=0,this.dragXEnd.clear(),this.dragXEnd.beginFill(this.color,.7),this.dragXEnd.moveTo(0,0),this.dragXEnd.quadraticCurveTo(-1*(this.scene.game.width-t+10),e,0,this.scene.game.height),this.dragXEnd.endFill(),this.dragXEnd.width=0,this.dragXEnd.alpha=0}},{key:"curveUpdateStart",value:function(t){this.dragXStart.width=Math.abs(t)*(.05*this.scene.game.width)/this.scene.game.width*(this.scene.game.screenScale/2),this.dragXStart.alpha=Math.abs(t)/this.scene.game.width}},{key:"curveUpdateEnd",value:function(t){this.dragXEnd.width=Math.abs(t)*(.05*this.scene.game.width)/this.scene.game.width*(this.scene.game.screenScale/2),this.dragXEnd.alpha=Math.abs(t)/this.scene.game.width}},{key:"resetCurve",value:function(){this.scene.game.add.tween(this.dragXStart).to({width:0,alpha:0},100,"Linear",!0),this.scene.game.add.tween(this.dragXEnd).to({width:0,alpha:0},100,"Linear",!0)}}]),e}();e.exports=a},{"../helper":11}],6:[function(t,e,i){var o=t("./scene"),a=t("../helper"),s=function(t){function e(){return y(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,o),d(e,[{key:"preload",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"preload",this).call(this),this.game.load.atlasJSONHash("tile","dist/image/tile.png","dist/json/tile.json"),this.game.load.atlasJSONHash("tileBase","dist/image/tileBase.png","dist/json/tileBase.json"),this.gameTile={},this.tileBaseIndex=0,this.tileLeftMargin=10*this.game.screenScale,this.leftSpace=4*this.tileLeftMargin,this.enterTile=-1,this.longJumpTileIndex=[],this.moving=!1}},{key:"create",value:function(){var t=this;n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.game.player.create(this),this.game.input.keyboard.addKey(Phaser.Keyboard.LEFT).onDown.add(function(){t.movePlayer(t.enterTile-1,!0)},this),this.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT).onDown.add(function(){t.movePlayer(t.enterTile+1,!0)},this)}},{key:"initGameSpace",value:function(){this.currentScale={main:.3*this.game.screenScale,base:.45*this.game.screenScale},this.game.isMobile&&(this.currentScale.main=.25*this.game.screenScale,this.game.scale.isGameLandscape),this.gameSpace=this.game.add.graphics(0,0),this.gamePlayeSpace=this.game.add.group(),this.gamePlayeSpace.y=this.game.groundPosition,this.gameSpace.addChild(this.gamePlayeSpace)}},{key:"gameSpaceDraggable",value:function(){var i=this;this.gameSpace.beginFill(a.intColor("#000"),0),this.gameSpace.drawRect(0,0,a.limitValue(this.gamePlayeSpace.width+8*this.tileLeftMargin,this.game.width),this.game.height,50),this.gameSpace.endFill(),this.gameSpace.inputEnabled=!0,this.gameSpace.input.allowVerticalDrag=!1,this.gameSpace.input.priorityID=1,this.gameSpace.input.enableDrag(),this.gameSpace.events.onDragStart.add(function(t,e){i.dragEffect.onDragStart(e.x,e.y)}),this.gameSpace.events.onDragUpdate.add(function(){0<=i.gameSpace.x?i.dragEffect.curveUpdateStart(i.gameSpace.x):Math.abs(i.gameSpace.x)>i.gameSpace.width-i.game.width&&i.dragEffect.curveUpdateEnd(i.gameSpace.width-i.game.width-Math.abs(i.gameSpace.x))}),this.gameSpace.events.onDragStop.add(function(){i.dragEffect.resetCurve(),0<=i.gameSpace.x?i.game.add.tween(i.gameSpace).to({x:0},200,"Linear",!0):Math.abs(i.gameSpace.x)>i.gameSpace.width-i.game.width&&i.game.add.tween(i.gameSpace).to({x:-1*(i.gameSpace.width-i.game.width)},200,"Linear",!0)})}},{key:"addMainTile",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.game.add.sprite(this.leftSpace,0,"tile",t);i.anchor.setTo(0,1),i.scale.setTo(this.currentScale.main,this.currentScale.main),i.inputEnabled=!0,i.input.pixelPerfectClick=!0,i.input.pixelPerfectOver=!0,i.input.useHandCursor=!0,i.input.priorityID=10,i.events.onInputDown.add(function(){"function"==typeof e&&e()}),this.gamePlayeSpace.add(i),this.gameTile[t]=i,this.longJumpTileIndex.push(this.tileBaseIndex),this.leftSpace+=i.width+this.tileLeftMargin}},{key:"addBaseTile",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this,o=this.tileBaseIndex;!0===t&&(t="_0_12");var a=this.game.add.sprite(this.leftSpace,this.game.rnd.integerInRange(1,25)*this.game.screenScale*-1,"tileBase",t);a.anchor.setTo(0,1),a.scale.setTo(this.currentScale.base,this.currentScale.base),a.inputEnabled=!0,a.input.pixelPerfectClick=!0,a.input.pixelPerfectOver=!0,a.input.useHandCursor=!0,a.input.priorityID=10,a.events.onInputDown.add(function(){"function"==typeof e&&e(),i.movePlayer(o,!0)}),this.gamePlayeSpace.add(a),this.gameTile["tileBase"+this.tileBaseIndex]=a,this.tileBaseIndex++,this.leftSpace+=a.width+this.tileLeftMargin}},{key:"addPlayer",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.gamePlayeSpace.add(this.game.player.bodyGroup),this.movePlayer(t,!1),this.game.player.initAnimation(),this.game.player.idle()}},{key:"jumpPlayer",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=i?600:500;this.game.player.idle(!1,!0),this.game.player.jump(i);var a=this.gameTile["tileBase"+this.enterTile];this.game.add.tween(this.game.player.bodyGroup).to({x:a.x+.5*(t.x+.4*t.width-a.x+.4*a.width),y:t.y-(i?1.4*t.height:.8*t.height)},.4*o,Phaser.Easing.Linear.None,!0).onComplete.add(function(){e.game.add.tween(e.game.player.bodyGroup).to({x:t.x+.5*t.width,y:t.y-.5*t.height},.6*o,Phaser.Easing.Linear.None,!0).onComplete.add(function(){e.game.time.events.add(Phaser.Timer.SECOND/20,function(){e.game.player.idle(),e.moving=!1},e).autoDestroy=!0},e)},this)}},{key:"movePlayer",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!this.moving){if(t<0||t>=this.tileBaseIndex)return void this.movePlayerWarning();if(this.moving=!0,1===Math.abs(t-this.enterTile)){this.game.player.changeDirection(this.enterTile<t?"toRight":"toLeft");var i=this.gameTile["tileBase"+t];e?(this.game.player.changeFaceType(1),this.jumpPlayer(i,this.enterTile<t?-1!==this.longJumpTileIndex.indexOf(t):-1!==this.longJumpTileIndex.indexOf(this.enterTile))):(this.game.player.bodyGroup.x=i.x+.5*i.width,this.game.player.bodyGroup.y=i.y-.5*i.height,this.moving=!1),this.enterTile=t}else this.movePlayerWarning()}}},{key:"movePlayerWarning",value:function(){this.game.player.changeFaceType(3),this.moving=!1}},{key:"update",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this)}}]),e}();e.exports=s},{"../helper":11,"./scene":9}],7:[function(t,e,i){var h=t("../helper"),o=function(){function e(t){y(this,e),this.scene=t,this.index=0,this.notifications=[],this.toTopTween=null}return d(e,[{key:"load",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5e3,o=this;if(!(3<this.notifications.length)){e=e?"#072104":"#210804",this.index+=1;var a={id:h.randId(),index:this.index},s=150*this.scene.game.screenScale,n=25*this.scene.game.screenScale,r=this.scene.padding*this.scene.game.screenScale;a.background=this.scene.game.add.graphics(0,0),a.background.alpha=0,a.margin=r,a.text=this.scene.game.make.text(0,0,t,this.scene.textStyle(10)),a.text.width>s&&(s=1.2*a.text.width),a.text.height>n&&(n=1.1*a.text.height),a.background.beginFill(h.intColor(e),1),a.background.drawRoundedRect(0,0,s,n,10),a.background.endFill(),a.background.addChild(a.text),a.text.setTextBounds(0,2*this.scene.game.screenScale,s,n),a.background.x=this.scene.game.width-s-r,a.background.y=r+(n+r)*this.notifications.length,this.notifications.push(a),this.notificationTween=this.scene.game.add.tween(a.background).to({alpha:1},400,"Linear",!0),this.notificationTween.onComplete.add(function(){setTimeout(function(){o.clear(a.id)},i)},this)}}},{key:"clear",value:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;clearTimeout(this.toTopTween);var a=this,s=[];this.notifications.forEach(function(t,e){0==i?t.background.destroy():t.id==i&&(s.push([t.index,t.background.height+t.margin]),t.background.destroy(),a.notifications.splice(e,1))}),0==i?this.notifications=[]:0<a.notifications.length&&this.notifications.forEach(function(i,t){var o=0;s.forEach(function(t,e){i.index>t[0]&&(o+=t[1])}),a.toTopTween=setTimeout(function(){a.scene.game.add.tween(i.background).to({y:i.background.y-o},200,"Linear",!0)},500)})}}]),e}();e.exports=o},{"../helper":11}],8:[function(t,e,i){var o=t("./animation/player/PlayerAnimationClass"),a=(t("../helper"),function(){function e(t){y(this,e),this.game=t,this.name="",this.saveCoins=0,this.activeLevel=1,this.bodyType=2,this.faceType=1,this.beardType=4,this.eyesType=1,this.optic=0,this.idleAnimate=[],this.direction="",this.animationHandel=!1}return d(e,[{key:"preload",value:function(){this.game.load.atlasJSONHash("player","dist/image/player.png","dist/json/player.json")}},{key:"create",value:function(t){this.state=t,this.bodyGroup=this.game.add.sprite(0,0,"player","group_body"),this.bodyGroup.anchor.setTo(.5,1),this.lowerBodyGroup=this.game.make.sprite(28,375,"player","group_lowerBody"),this.rightFootGroup=this.game.make.sprite(60,5,"player","group_rightFoot"),this.rightFootBottom=this.game.make.sprite(0,132,"player","body_"+this.bodyType+"_foot_right_bottom"),this.rightFootTop=this.game.make.sprite(0,0,"player","body_"+this.bodyType+"_foot_right_top"),this.leftFootGroup=this.game.make.sprite(5,0,"player","group_leftFoot"),this.leftFootBottom=this.game.make.sprite(3,142,"player","body_"+this.bodyType+"_foot_left_bottom"),this.leftFootTop=this.game.make.sprite(0,0,"player","body_"+this.bodyType+"_foot_left_top"),this.upperBodyGroup=this.game.make.sprite(0,0,"player","group_upperBody"),this.rightHandGroup=this.game.make.sprite(137,205,"player","group_rightHand"),this.rightHandBottom=this.game.make.sprite(9,104,"player","body_"+this.bodyType+"_hand_right_bottom"),this.rightHandTop=this.game.make.sprite(0,0,"player","body_"+this.bodyType+"_hand_right_top"),this.body=this.game.make.sprite(0,144,"player","body_"+this.bodyType+"_body"),this.headGroup=this.game.make.sprite(27,0,"player","group_head"),this.face=this.game.make.sprite(24,29,"player","face_"+this.faceType+"_"+this.beardType+"_"+this.eyesType),this.opticOver=this.game.make.sprite(24,29,"player","face_optic"),1!==this.optic&&(this.opticOver.alpha=0),this.headOver=this.game.make.sprite(0,0,"player","body_"+this.bodyType+"_head_over"),this.leftHandGroup=this.game.make.sprite(0,193,"player","group_leftHand"),this.leftHandBottom=this.game.make.sprite(2,107,"player","body_"+this.bodyType+"_hand_left_bottom"),this.leftHandTop=this.game.make.sprite(0,0,"player","body_"+this.bodyType+"_hand_left_top"),this.addToParent(this.lowerBodyGroup,this.bodyGroup,72,28),this.addToParent(this.rightFootGroup,this.lowerBodyGroup,32,31),this.addToParent(this.rightFootBottom,this.rightFootGroup,30,23),this.addToParent(this.rightFootTop,this.rightFootGroup,0,0),this.addToParent(this.leftFootGroup,this.lowerBodyGroup,40,30),this.addToParent(this.leftFootBottom,this.leftFootGroup,38,23),this.addToParent(this.leftFootTop,this.leftFootGroup,0,0),this.addToParent(this.upperBodyGroup,this.bodyGroup,100,400),this.addToParent(this.rightHandGroup,this.upperBodyGroup,23,30),this.addToParent(this.rightHandBottom,this.rightHandGroup,13,18),this.addToParent(this.rightHandTop,this.rightHandGroup,0,0),this.addToParent(this.body,this.upperBodyGroup,100,261),this.addToParent(this.leftHandGroup,this.upperBodyGroup,40,27),this.addToParent(this.headGroup,this.upperBodyGroup,83,170),this.addToParent(this.face,this.headGroup,0,0),this.addToParent(this.opticOver,this.headGroup,0,0),this.addToParent(this.headOver,this.headGroup,0,0),this.addToParent(this.leftHandBottom,this.leftHandGroup,28,15),this.addToParent(this.leftHandTop,this.leftHandGroup,0,0),this.changeDirection()}},{key:"changeDirection",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"toRight";"toRight"===t?this.bodyGroup.scale.setTo(.16*this.game.screenScale,.16*this.game.screenScale):this.bodyGroup.scale.setTo(.16*this.game.screenScale*-1,.16*this.game.screenScale),this.direction=t,this.state.direction=this.direction}},{key:"initAnimation",value:function(){this.animation=new o(this.state),this.animationHandel=!0}},{key:"checkForAnimationHandel",value:function(){this.animationHandel||this.initAnimation()}},{key:"idle",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.checkForAnimationHandel(),t?this.animation.start("idle"):this.animation.stop("idle",e)}},{key:"jump",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.checkForAnimationHandel(),t?this.animation.start("long_jump"):this.animation.start("jump")}},{key:"changeFaceType",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;(5<t||t<1)&&(t=1),this.faceType=t,this.face.loadTexture("player","face_"+this.faceType+"_"+this.beardType+"_"+this.eyesType)}},{key:"addToParent",value:function(t,e,i,o){e.addChild(t),t.anchor.setTo(i/t.width,o/t.height),t.x=e.width*e.anchor.x*-1+(t.x+t.width*t.anchor.x),t.y=e.height*e.anchor.y*-1+(t.y+t.height*t.anchor.y)}},{key:"setName",value:function(t){this.name=t}},{key:"setSaveCoins",value:function(t){this.saveCoins=t}},{key:"setActiveLevel",value:function(t){this.activeLevel=t}}]),e}());e.exports=a},{"../helper":11,"./animation/player/PlayerAnimationClass":2}],9:[function(t,e,i){var o=t("./notify"),a=t("./dragEffect"),s=t("./animation"),n=t("../helper"),r=function(){function e(t){y(this,e),this.game=t,this.coverCoinsUpAnimation=20,this.padding=7,this.notify=new o(this),this.dragEffect=new a(this),this.animation=new s(this),this.direction="toRight"}return d(e,[{key:"preload",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.isPopupOpen=!1,this.saveCoins=0,this.coinAmountUpdateNeed=!1,this.game.player.saveCoins>this.coverCoinsUpAnimation&&(this.saveCoins=this.game.player.saveCoins-this.coverCoinsUpAnimation),this.stateBounds={radius:30,width:{size:this.game.world.width,one:0,two:this.game.world.width},height:{size:this.game.world.height,one:0,two:this.game.world.height}},this.notify.clear(),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.stage.backgroundColor="#000623",this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVeritcally=!0,t&&(this.game.load.image("backgroundStar","dist/image/star.png"),this.game.load.image("background","dist/image/background.png"),this.game.load.image("popupFrame","dist/image/popupFrame.png"),this.game.load.image("coinBox_1","dist/image/coinBox_1.png"),this.game.load.image("coinBox_2","dist/image/coinBox_2.png"),this.game.load.image("coinWithStroke","dist/image/coinWithStroke.png"),this.game.load.atlasJSONHash("btn","dist/image/btn.png","dist/json/btn.json")),e&&this.game.player.preload()}},{key:"create",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.backGroundGradientCreator(),this.backgroundStar={},this.backgroundStar=this.game.add.tileSprite(this.game.world.centerX,0,this.game.width/(.2*this.game.screenScale),.8*this.game.height/(.2*this.game.screenScale),"backgroundStar"),this.backgroundStar.anchor.set(.5,0),this.backgroundStar.scale.setTo(.2*this.game.screenScale,.2*this.game.screenScale),this.background=this.game.add.tileSprite(this.game.world.centerX,0,this.game.width/(.2*this.game.screenScale),this.game.cache.getFrameByIndex("background",0).height,"background"),this.background.anchor.set(.5,1),this.background.y=.88*this.game.height,this.game.groundPosition=this.background.y-15*this.game.screenScale,this.background.scale.setTo(.2*this.game.screenScale,.2*this.game.screenScale),this.dragEffect.loadSpace(),t?(this.addPopUpStage(),this.addPlayerSaveCoinsBox(this.game.world.centerX,this.stateBounds.height.two)):(this.addPlayerNameBox(),this.addPlayerSaveCoinsBox(this.padding*this.game.screenScale,this.playerNameBox.height+this.playerNameBox.y+this.padding*this.game.screenScale,{x:0,y:0})),this.updatePlayerSaveCoins(this.game.player.saveCoins)}},{key:"addMainBtn",value:function(){var t=this;this.shopSceneBtn=this.game.add.button(this.game.width-7*this.game.screenScale,this.game.height-7*this.game.screenScale,"btn",function(){t.startState("Shop")},null,"_01_0","_01_1","_01_0","_01_1"),this.shopSceneBtn.anchor.set(1,1),this.shopSceneBtn.input.pixelPerfectClick=!0,this.shopSceneBtn.input.pixelPerfectOver=!0,this.shopSceneBtn.input.priorityID=200,this.shopSceneBtn.scale.setTo(.4*this.game.screenScale,.4*this.game.screenScale),this.levelSceneBtn=this.game.add.button(8*this.game.screenScale,this.game.height-7*this.game.screenScale,"btn",function(){t.startState("Level")},null,"_03_0","_03_1","_03_0","_03_1"),this.levelSceneBtn.anchor.set(0,1),this.levelSceneBtn.input.pixelPerfectClick=!0,this.levelSceneBtn.input.pixelPerfectOver=!0,this.levelSceneBtn.input.priorityID=200,this.levelSceneBtn.scale.setTo(.4*this.game.screenScale,.4*this.game.screenScale)}},{key:"addPopUpStage",value:function(){this.isPopupOpen=!0,this.stateBounds.height.size=.8*this.game.world.height,this.stateBounds.height.one=.1*this.game.world.height,this.stateBounds.height.two=.9*this.game.world.height,this.stateBounds.width.size=this.stateBounds.height.size,this.stateBounds.width.one=(this.game.world.width-this.stateBounds.height.size)/2,this.stateBounds.width.two=this.stateBounds.width.one+this.stateBounds.width.size,this.game.scale.isGameLandscape?this.game.device.desktop||(this.stateBounds.width.size=.6*this.game.world.width,this.stateBounds.width.one=.2*this.game.world.width,this.stateBounds.width.two=.8*this.game.world.width):(this.stateBounds.width.size=.8*this.game.world.width,this.stateBounds.width.one=.1*this.game.world.width,this.stateBounds.width.two=.9*this.game.world.width),this.popupBackground=this.game.add.graphics(0,0),this.popupBackground.hitArea=0,this.popupBackground.beginFill(n.intColor("#010a26"),.8),this.popupBackground.moveTo(0,0),this.popupBackground.lineTo(this.game.world.width,0),this.popupBackground.lineTo(this.game.world.width,this.game.world.height),this.popupBackground.lineTo(0,this.game.world.height),this.popupBackground.lineTo(0,this.stateBounds.height.size/2),this.popupBackground.lineTo(this.stateBounds.width.one,this.stateBounds.height.size/2),this.popupBackground.lineTo(this.stateBounds.width.one,this.stateBounds.height.two-this.stateBounds.radius),this.popupBackground.quadraticCurveTo(this.stateBounds.width.one,this.stateBounds.height.two,this.stateBounds.width.one+this.stateBounds.radius,this.stateBounds.height.two),this.popupBackground.lineTo(this.stateBounds.width.two-this.stateBounds.radius,this.stateBounds.height.two),this.popupBackground.quadraticCurveTo(this.stateBounds.width.two,this.stateBounds.height.two,this.stateBounds.width.two,this.stateBounds.height.two-this.stateBounds.radius),this.popupBackground.lineTo(this.stateBounds.width.two,this.stateBounds.height.one+this.stateBounds.radius),this.popupBackground.quadraticCurveTo(this.stateBounds.width.two,this.stateBounds.height.one,this.stateBounds.width.two-this.stateBounds.radius,this.stateBounds.height.one),this.popupBackground.lineTo(this.stateBounds.width.one+this.stateBounds.radius,this.stateBounds.height.one),this.popupBackground.quadraticCurveTo(this.stateBounds.width.one,this.stateBounds.height.one,this.stateBounds.width.one,this.stateBounds.height.one+this.stateBounds.radius),this.popupBackground.lineTo(this.stateBounds.width.one,this.stateBounds.height.size/2),this.popupBackground.lineTo(0,this.stateBounds.height.size/2),this.popupBackground.endFill(),this.popupFrameTop=this.game.add.image(this.game.world.centerX,this.stateBounds.height.one-this.game.screenScale,"popupFrame"),this.popupFrameTop.anchor.set(.5,1),this.popupFrameTop.scale.setTo(.2*this.game.screenScale,.2*this.game.screenScale),this.popupFrameBottom=this.game.add.image(this.game.world.centerX,this.stateBounds.height.two+this.game.screenScale,"popupFrame"),this.popupFrameBottom.anchor.set(.5,1),this.popupFrameBottom.angle=180,this.popupFrameBottom.scale.setTo(.2*this.game.screenScale,.2*this.game.screenScale),this.popupFrameLeft=this.game.add.image(this.stateBounds.width.one-this.game.screenScale,this.game.world.centerY,"popupFrame"),this.popupFrameLeft.anchor.set(.5,1),this.popupFrameLeft.angle=-90,this.popupFrameLeft.scale.setTo(.2*this.game.screenScale,.2*this.game.screenScale),this.popupFrameRight=this.game.add.image(this.stateBounds.width.two+this.game.screenScale,this.game.world.centerY,"popupFrame"),this.popupFrameRight.anchor.set(.5,1),this.popupFrameRight.angle=90,this.popupFrameRight.scale.setTo(.2*this.game.screenScale,.2*this.game.screenScale),this.popupCoinBox=this.game.add.image(this.stateBounds.width.one,this.stateBounds.height.two,"coinBox_1"),this.popupCoinBox.anchor.set(.3,.8),this.popupCoinBox.scale.setTo(.2*this.game.screenScale,.2*this.game.screenScale),this.stateBounds.width._size=this.stateBounds.width.size,this.stateBounds.width._one=this.stateBounds.width.one,this.stateBounds.width._two=this.stateBounds.width.two,this.stateBounds.height._size=this.stateBounds.height.size,this.stateBounds.height._one=this.stateBounds.height.one,this.stateBounds.height._two=this.stateBounds.height.two,this.game.device.desktop||(this.game.scale.isGameLandscape?(this.stateBounds.width._size=this.stateBounds.height.size,this.stateBounds.width._one=(this.game.world.width-this.stateBounds.height.size)/2,this.stateBounds.width._two=this.stateBounds.width._one+this.stateBounds.width._size):(this.stateBounds.height._size=this.stateBounds.width.size,this.stateBounds.height._one=(this.game.world.height-this.stateBounds.width.size)/2,this.stateBounds.height._two=this.stateBounds.height._one+this.stateBounds.height._size))}},{key:"addPlayerNameBox",value:function(){var t=60*this.game.screenScale,e=25*this.game.screenScale,i=this.padding*this.game.screenScale;this.playerNameBox=this.game.add.graphics(0,0),this.playerNameText=this.game.make.text(0,0,this.game.player.name,this.textStyle(12)),this.playerNameText.width>t&&(t=1.2*this.playerNameText.width),this.playerNameText.height>e&&(e=1.1*this.playerNameText.height),this.playerNameBox.beginFill(n.intColor("#040a21"),1),this.playerNameBox.drawRoundedRect(0,0,t,e,10),this.playerNameBox.endFill(),this.playerNameBox.addChild(this.playerNameText),this.playerNameBox.x=i,this.playerNameBox.y=i,this.playerNameText.setTextBounds(0,2*this.game.screenScale,t,e)}},{key:"updatePlayerSaveCoins",value:function(t){!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?this.saveCoins+=t:this.saveCoins-=t,this.saveCoinsText&&(this.coinAmountUpdateNeed=!0)}},{key:"addPlayerSaveCoinsBox",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:.5,y:.5},o=this.padding*this.game.screenScale;this.saveCoinsBox=this.game.add.graphics(0,0),this.saveCoinsBox.anchor.set(i.x,i.y),this.coinAmountImage=this.game.make.image(0,0,"coinWithStroke"),this.coinAmountImage.anchor.set(.5,.5),this.saveCoinsBox.addChild(this.coinAmountImage),this.saveCoinsText=this.game.make.text(0,0,this.saveCoins,this.textStyle(10)),this.saveCoinsBox.beginFill(n.intColor("#040a21"),1),this.saveCoinsBox.drawRoundedRect(0,0,this.saveCoinsText.width+4*o,this.saveCoinsText.height+1.7*o,10),this.saveCoinsBox.endFill(),this.saveCoinsText.setTextBounds(0,2*this.game.screenScale,this.saveCoinsBox.width,.95*this.saveCoinsBox.height),this.saveCoinsBox.addChild(this.saveCoinsText),this.saveCoinsBox.x=t-this.saveCoinsBox.width*i.x,this.saveCoinsBox.y=e-this.saveCoinsBox.height*i.y,this.coinAmountImage.x=.5*this.saveCoinsBox.width,this.coinAmountImage.y=this.saveCoinsBox.height,this.coinAmountImage.scale.setTo(.3*this.game.screenScale,.3*this.game.screenScale)}},{key:"backGroundGradientCreator",value:function(){var t=this.game.add.bitmapData(this.game.width,this.game.height),e=t.context.createLinearGradient(0,0,0,this.game.height);e.addColorStop(0,"#020723"),e.addColorStop(.48,"#1d58aa"),e.addColorStop(.56,"#1d58aa"),e.addColorStop(.8,"#0d337b"),e.addColorStop(1,"#000623"),t.context.fillStyle=e,t.context.fillRect(0,0,this.game.width,this.game.height),this.backgroundGradient=this.game.add.sprite(0,0,t),this.backgroundGradient.fixedToCamera=!0}},{key:"startFullScreen",value:function(){this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,!this.game.scale.isFullScreen&&this.game.scale.isGameLandscape&&this.game.scale.startFullScreen(!1)}},{key:"startState",value:function(t){if(this.game.state.current!==t){n.domObject("loading",!0,"display",!1);var e=this;setTimeout(function(){e.game.state.start(t)},500)}}},{key:"showState",value:function(){(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&this.addMainBtn(),n.domObject("loading",!1,"display",!1),n.domObject("game",!0)}},{key:"textStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20;return{fill:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#fff",font:t*this.game.screenScale+"px gameWebFont",boundsAlignH:"center",boundsAlignV:"middle"}}},{key:"coinsValueUpdate",value:function(){if(this.coinAmountUpdateNeed){var t=Number(this.saveCoinsText.text);t<this.game.player.saveCoins?this.saveCoinsText.setText(t+1):t>this.game.player.saveCoins?this.saveCoinsText.setText(t-1):this.coinAmountUpdateNeed=!1}}},{key:"update",value:function(){"toRight"==this.direction?(this.backgroundStar.tilePosition.x+=1,this.background.tilePosition.x-=.8):(this.backgroundStar.tilePosition.x-=1,this.background.tilePosition.x+=.8),this.backgroundStar.tilePosition.y-=1,this.coinsValueUpdate()}}]),e}();e.exports=r},{"../helper":11,"./animation":1,"./dragEffect":5,"./notify":7}],10:[function(t,e,i){var d=t("./class/player"),l=t("./scene/boot"),p=t("./scene/shop"),u=t("./scene/level"),c=t("./scene/level/level_1"),g=t("./helper"),a=(window.devicePixelRatio,new NoSleep),s=void 0,n=function(t){function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.innerHeight;y(this,h);var i=g.screenObject(t,e),o=m(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,{width:i.width,height:i.height,renderer:Phaser.AUTO,parent:"game",transparent:!0,antialias:!0}));o.isMobile=g.isMobile(),o.screenScale=i.scale,o.pixelRatio=1+(window.devicePixelRatio-1)/2,o.groundPosition=0,o.player=new d(o),o.player.setName("امیر رضا"),o.player.setSaveCoins(50),o.player.setActiveLevel(1);var a=new l(o),s=new p(o),n=new u(o),r=new c(o);return o.state.add("Boot",a,!1),o.state.add("Shop",s,!1),o.state.add("Level",n,!1),o.state.add("Level_1",r,!1),o}return r(h,Phaser.Game),h}();window.addEventListener("load",function(){var t=window.innerWidth,e=window.innerHeight,i=new n(t,e);WebFont.load({active:function(){i.state.start("Level_1")},custom:{families:["gameWebFont"],urls:["/dist/css/font.css"]}}),"Microsoft Edge"!==platform.name&&"IE"!==platform.name||i.state.start("Level_1");var o=function(){g.domObject("loading",!0,"display",!1),g.domObject("game",!1,"visibility",!1),clearTimeout(s),s=setTimeout(function(){var t=g.screenObject();i.screenScale=t.scale,i.scale.setGameSize(t.width,t.height),i.scale.refresh(),i.state.restart(!0,!1),g.domObject("game",!0),g.domObject("loading",!1,"display",!1)},500)};window.addEventListener("orientationchange",o),window.addEventListener("resize",o),window.addEventListener("contextmenu",function(t){t.preventDefault()}),window.addEventListener("click",function t(){a.enable(),window.removeEventListener("click",t,!1)},!1)})},{"./class/player":8,"./helper":11,"./scene/boot":12,"./scene/level":13,"./scene/level/level_1":14,"./scene/shop":15}],11:[function(t,e,i){var n={getWithId:function(t){return document.getElementById(t)},domObject:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"visibility",o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];"loading"==t&&(n.getWithId("load").innerText="");var a=n.getWithId(t),s={display:"none",visibility:"hidden"};e&&(s={display:"block",visibility:"visible"}),o?(e?(a.style.opacity=0,a.style[i]=s[i],this.addClass(a,"fadeIn")):this.addClass(a,"fadeOut"),a.addEventListener("webkitAnimationEnd",function(){n.endOfFadeAnimation(a,e,i)}),a.addEventListener("animationend",function(){n.endOfFadeAnimation(a,e,i)})):a.style[i]=s[i]},endOfFadeAnimation:function(t,e,i){e?(t.style.opacity=1,this.removeClass(t,"fadeIn")):(t.style.opacity=0,"visibility"==i?t.style.visibility="hidden":t.style.display="none",this.removeClass(t,"fadeOut"))},removeClass:function(t,e){return t.classList.remove(e),t},addClass:function(t,e){return t.classList.add(e),t},intColor:function(t){return Phaser.Color.hexToColor(t).color},randId:function(){return(new Date).getTime().toString(36).substr(-3)+Math.random().toString(36).substr(-3)},isMobile:function(){var t=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))},screenObject:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.innerHeight,i=window.devicePixelRatio,o=t*i,a=e*i,s=1280;return n.isMobile()&&(s*=.6),{width:o,height:a,scale:Math.floor(Math.sqrt(Math.pow(o,2)+Math.pow(a,2)))/s}},loadingProcess:function(t){n.getWithId("load").innerText=Math.floor(t-100*Math.random()/10)},limitValue:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return null!=e&&t<e?e:null!=i&&i<t?i:t}};e.exports=n},{}],12:[function(t,e,i){var o=t("../class/scene"),a=(t("../helper"),function(t){function e(){return y(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,o),d(e,[{key:"preload",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"preload",this).call(this),this.game.load.audio("background",["dist/audio/background.mp3","dist/audio/background.ogg"])}},{key:"create",value:function(){this.backgroundAudio||(this.backgroundAudio=this.game.add.audio("background",.5,!0)),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this,!1),this.text=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"بوت",this.textStyle(20)),this.text.anchor.set(.5,.5),this.showState()}},{key:"update",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this)}}]),e}());e.exports=a},{"../class/scene":9,"../helper":11}],13:[function(t,e,i){var o=t("../class/scene"),a=(t("../helper"),function(t){function a(){return y(this,a),m(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return r(a,o),d(a,[{key:"preload",value:function(){n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"preload",this).call(this),this.game.load.atlasJSONHash("tile","dist/image/tile.png","dist/json/tile.json")}},{key:"create",value:function(){n(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"create",this).call(this,!0),this.frameGroup=this.game.add.group(),this.levelFrame={},this.levelImage={},this.levelLock={};var t=this.game.isMobile?10*this.game.screenScale:30*this.game.screenScale;this.maxSizeOfImage=0;for(var e=1;e<=9;e++){var i=this.game.cache.getFrameData("tile").getFrameByName("_"+e+"_00");this.maxSizeOfImage<i.height&&(this.maxSizeOfImage=i.height)}this.frameGroup._width=this.stateBounds.width._size-2*t*this.game.screenScale,this.frameGroup._height=this.stateBounds.height._size-2*t*this.game.screenScale,this.frameGroup.x=this.stateBounds.width._one+t*this.game.screenScale,this.frameGroup.y=this.stateBounds.height._one+t*this.game.screenScale;for(var o=1;o<=9;o++)this.addLevelItem(o);this.showState(!1)}},{key:"addLevelItem",value:function(t){var e=!1;t<=this.game.player.activeLevel&&(e=!0);var i=t%3==0?2:t%3-1,o=Math.ceil(t/3)-1,a={width:.3*this.frameGroup._width,height:.3*this.frameGroup._height,x:i*(.05*this.frameGroup._width)+i*(.3*this.frameGroup._width),y:o*(.05*this.frameGroup._height)+o*(.3*this.frameGroup._height)};if(this.currentScale=a.width/this.maxSizeOfImage,this.levelFrame[t]=new Phaser.Rectangle(a.x,a.y,a.width,a.height),this.levelImage[t]=this.game.add.sprite(0,0,"tile","_"+t+"_00"),this.levelImage[t].anchor.setTo(.5,.5),this.levelImage[t].scale.setTo(a.width/this.maxSizeOfImage,a.width/this.maxSizeOfImage),this.levelImage[t].alignIn(this.levelFrame[t],Phaser.BOTTOM_CENTER),this.levelImage[t].inputEnabled=!0,this.levelImage[t].input.pixelPerfectClick=!0,this.levelImage[t].input.pixelPerfectOver=!0,this.levelImage[t].input.useHandCursor=!0,this.frameGroup.add(this.levelImage[t]),e)this.levelImage[t].events.onInputDown.add(this.startState.bind(this,"Level_"+t),this),t===this.game.player.activeLevel?this.game.add.tween(this.levelImage[t].scale).to({x:this.currentScale+.025*this.currentScale,y:this.currentScale+.025*this.currentScale},200,"Linear",!0).loop(!0):this.levelImage[t].alpha=.7;else{this.levelImage[t].alpha=.7;var s="_05_1";t%2==0&&(s="_06_1"),this.levelLock[t]=this.game.add.image(0,0,"btn",s),this.levelLock[t].anchor.set(.5,.5),this.levelLock[t].scale.setTo(this.currentScale,this.currentScale),this.levelLock[t].alignIn(this.levelImage[t],Phaser.CENTER),this.frameGroup.add(this.levelLock[t]),this.levelImage[t].events.onInputDown.add(this.alertInactiveLevel,this)}}},{key:"alertInactiveLevel",value:function(){this.notify.load("شما مجوز ورود به این مرحله را ندارید!",!1)}}]),a}());e.exports=a},{"../class/scene":9,"../helper":11}],14:[function(t,e,i){var o=t("../../class/level"),a=(t("../../helper"),function(t){function e(){return y(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,o),d(e,[{key:"preload",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"preload",this).call(this)}},{key:"create",value:function(){var t=this;n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this);this.initGameSpace(),this.addBaseTile("_0_11"),this.addBaseTile(),this.addBaseTile(),this.addMainTile("_1_00",function(){t.game.player.changeFaceType(5)}),this.addBaseTile(),this.addBaseTile(),this.addBaseTile(),this.addMainTile("_2_00",function(){}),this.addBaseTile(),this.addBaseTile(),this.addPlayer(0),this.gameSpaceDraggable(),this.showState()}},{key:"update",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this)}}]),e}());e.exports=a},{"../../class/level":6,"../../helper":11}],15:[function(t,e,i){var o=t("../class/scene"),a=(t("../helper"),function(t){function e(){return y(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,o),d(e,[{key:"preload",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"preload",this).call(this)}},{key:"create",value:function(){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"create",this).call(this),this.text=this.game.add.text(this.game.world.centerX,this.game.world.centerY,"فروشگاه",this.textStyle(20)),this.text.anchor.set(.5,.5),this.showState()}}]),e}());e.exports=a},{"../class/scene":9,"../helper":11}]},{},[10]);